<ui:composition template="/WEB-INF/template/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

	<ui:define name="title">
        Concurso de arte
    </ui:define>
	<ui:param name="estilo2" value="current" />
	<ui:define name="content">
		<div class="row">
			<div class="col-12">
				<div class="content">

					<h:form id="formBusqueda">
						<h:messages style="color:red; margin-bottom:10px;" />

						<div
							style="margin-bottom: 20px; border: 1px solid #ddd; padding: 15px;">
							<h3>Filtros</h3>
							<label>Nota media:</label>

							<h:inputText value="#{arteWeb.notaInput}" />

							<h:commandButton value="Filtrar por nota media"
								action="#{arteWeb.buscar}"
								style="margin-left: 15px; background-color: #ddd; color: black; border: 1px solid #999; padding: 5px 10px;">

								<f:ajax execute="@form" render="tablaObras" />

							</h:commandButton>
						</div>

						<h:dataTable id="tablaObras" value="#{arteWeb.obras}" var="p"
							styleClass="table table-striped" border="1" cellpadding="10">
							<h:column>
								<f:facet name="header">ID</f:facet>
                                #{p.id}
                            </h:column>
							<h:column>
								<f:facet name="header">Titulo</f:facet>
                                #{p.titulo}
                            </h:column>
							<h:column>
								<f:facet name="header">Artista</f:facet>
                                #{p.artista}
                            </h:column>
							<h:column>
								<f:facet name="header">Técnica</f:facet>
                                #{p.tecnica}
                            </h:column>
							<h:column>
								<f:facet name="header">Descripción</f:facet>
                                #{p.descripcion}
                            </h:column>
							<h:column>
								<f:facet name="header">Nota media</f:facet>
                                #{p.notaMedia}
                            </h:column>
						</h:dataTable>

					</h:form>
				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>